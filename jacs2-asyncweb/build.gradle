plugins {
    id 'application'
    id 'distribution'
    id 'nebula.rpm' version '4.8.0'
}

mainClassName = 'org.janelia.jacs2.app.AsyncServicesApp'

project(":jacs2-asyncweb") {
    dependencies {
        compile project(":jacs2-commonweb"),
                CDI_SE_CORE_LIB,
                JAX_RS_JERSEY_CDI_SERVLET_LIB,
                JAX_RS_JERSEY_INJECT_LIB

        testCompile JAX_RS_JERSEY_TEST_LIB,
                    JAX_RS_JERSEY_TEST_PROVIDER_LIB
    }

    distributions {
        main {
           contents {
                into('swagger-webapp') {
                    from(new File(project(':jacs2-commonweb').projectDir, 'src/main/swagger-webapp')) {
                        include '**'
                    }
                    from(new File(projectDir, 'src/main/swagger-webapp')) {
                        include 'index.html'
                    }
                }
            }
        }
    }
}
